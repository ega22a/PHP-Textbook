# Формы и обработка данных

## Шаг 1: Создание HTML-формы

Для начала создадим HTML-форму, где пользователи смогут ввести свои данные. Создай файл `form.html` со следующим содержимым:

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Обработка формы</title>
</head>
<body>
    <h1>Обработка формы</h1>
    <form action="process.php" method="post">
        <label for="name">Имя:</label>
        <input type="text" id="name" name="name" required>
        <br><br>
        <label for="email">Электронная почта:</label>
        <input type="email" id="email" name="email" required>
        <br><br>
        <input type="submit" value="Отправить">
    </form>
</body>
</html>
```

## Шаг 2: Обработка данных (GET и POST)

Теперь создадим PHP-скрипт для обработки данных из формы. Создай файл `process.php` со следующим содержимым:

```php
<?php
if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $name = htmlspecialchars($_POST['name']);
    $email = htmlspecialchars($_POST['email']);
    
    print('<h1>Данные получены</h1>');
    print("Имя: {$name}<br>");
    print("Электронная почта: {$email}<br>");
}
```

## Шаг 3: Валидация формы и защита от XSS-атак

Добавим базовую валидацию формы и защиту от XSS-атак. Для этого, необходимо изменить код файла `process.php`:

```php
<?php
if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $name = trim($_POST['name']);
    $email = trim($_POST['email']);
    
    $errors = [];

    if (empty($name)) {
        $errors[] = 'Имя обязательно';
    } elseif (!preg_match("/^[a-zA-Z ]*$/", $name)) {
        $errors[] = "В имене допускается использовать только символы латинского алфавита и пробел";
    }
    
    if (empty($email)) {
        $errors[] = "Электронная почта обязательна";
    } elseif (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $errors[] = "У электронной почты некорректный формат";
    }
    
    if (empty($errors)) {
        $name = htmlspecialchars($name);
        $email = htmlspecialchars($email);
        
        print('<h1>Данные обработаны</h1>');
        print("Имя: {$name}<br>");
        print("Электронная почта: {$email}<br>");
    } else {
        foreach ($errors as $error) {
            print("<p style='color: red;'>{$error}</p>");
        }
    }
}
```

## Шаг 4: Отображение сообщений об ошибках

Теперь при отправке формы и обнаружении ошибок пользователи увидят соответствующие сообщения об ошибках.

**Итоговая структура файлов:**

- `form.html`: HTML-форма для ввода данных.
- `process.php`: PHP-скрипт для обработки данных, валидации формы, защиты от XSS-атак и отображения сообщений об ошибках.

Теперь ты можешь протестировать свою форму, открыв `form.html` в веб-браузере, ввести данные и нажать кнопку "Отправить". Ошибки будут отображаться, если данные введены некорректно.

## Самостоятельные работы

### Самостоятельная работа 1: Обработка формы регистрации пользователя

**Цель:** Создание формы регистрации и обработка данных с валидацией.

**Шаги:**

1. Создайте HTML-форму с полями для имени пользователя, пароля и подтверждения пароля.
2. Обработайте данные с помощью PHP, проверяя, чтобы пароль и подтверждение пароля совпадали.
3. Валидация: убедитесь, что все поля заполнены.
4. Защита от XSS-атак: очистите введенные данные с помощью функции `htmlspecialchars()`.

### Самостоятельная работа 2: Форма обратной связи

**Цель:** Создание формы обратной связи и обработка данных с валидацией.

**Шаги:**

1. Создайте HTML-форму с полями для имени, электронной почты и сообщения.
2. Обработайте данные с помощью PHP, проверяя правильность формата электронной почты.
3. Валидация: убедитесь, что все поля заполнены, и сообщение содержит не менее 10 символов.
4. Защита от XSS-атак: очистите введенные данные с помощью функции `htmlspecialchars()`.

### Самостоятельная работа 3: Форма входа в систему

**Цель:** Создание формы входа и обработка данных с валидацией.

**Шаги:**

1. Создайте HTML-форму с полями для имени пользователя и пароля.
2. Обработайте данные с помощью PHP, проверяя правильность введенных данных (например, имя пользователя должно быть минимум 4 символа).
3. Валидация: убедитесь, что все поля заполнены.
4. Защита от XSS-атак: очистите введенные данные с помощью функции `htmlspecialchars()`.

### Самостоятельная работа 4: Форма подписки на рассылку

**Цель:** Создание формы подписки на рассылку и обработка данных с валидацией.

**Шаги:**

1. Создайте HTML-форму с полем для электронной почты.
2. Обработайте данные с помощью PHP, проверяя правильность формата электронной почты.
3. Валидация: убедитесь, что поле электронной почты заполнено.
4. Защита от XSS-атак: очистите введенные данные с помощью функции `htmlspecialchars()`.

### Самостоятельная работа 5: Форма бронирования

**Цель:** Создание формы бронирования и обработка данных с валидацией.

**Шаги:**

1. Создайте HTML-форму с полями для имени, даты бронирования и времени бронирования.
2. Обработайте данные с помощью PHP, проверяя правильность введенной даты и времени.
3. Валидация: убедитесь, что все поля заполнены.
4. Защита от XSS-атак: очистите введенные данные с помощью функции `htmlspecialchars()`.
