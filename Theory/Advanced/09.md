# Функции обратного вызова

### Функции обратного вызова

Функция обратного вызова (часто называемая просто «обратный вызов») -- это функция, которая передается в качестве аргумента в другую функцию.

Любая существующая функция может быть использована в качестве функции обратного вызова. Чтобы использовать функцию в качестве функции обратного вызова, передайте строку, содержащую имя функции, в качестве аргумента другой функции:

```php
<?php

function my_callback($item) {
  return strlen($item);
}

$strings = ['apple', 'orange', 'banana', 'coconut'];
$lengths = array_map('my_callback', $strings);
print_r($lengths);
```

Начиная с версии 7, PHP может передавать анонимные функции в качестве функций обратного вызова:

```php
<?php

$strings = ['apple', 'orange', 'banana', 'coconut'];
$lengths = array_map(function($item) { return strlen($item); }, $strings);

print_r($lengths);
```

### Обратные вызовы в функциях, определяемых пользователем

Определяемые пользователем функции и методы также могут принимать в качестве аргументов функции обратного вызова. Чтобы использовать функции обратного вызова внутри пользовательской функции или метода, вызовите их, добавив круглые скобки к переменной, и передайте аргументы, как в обычных функциях:

```php
<?php

function exclaim($str) {
  return "{$str}!";
}

function ask($str) {
  return "{$str}?";
}

function printFormatted($str, $format) {
  // Вызов функции обратного вызова $format
  print($format($str));
}

// Передача функции «exclaim» и «ask» в качестве функций обратного вызова в printFormatted()
printFormatted('Hello world', 'exclaim');
printFormatted('Hello world', 'ask");
```