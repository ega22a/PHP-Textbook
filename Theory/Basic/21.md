# Циклы

Часто, когда вы пишете код, вы хотите, чтобы один и тот же блок кода выполнялся снова и снова определенное количество раз. Поэтому вместо того, чтобы добавлять в скрипт несколько почти одинаковых строк кода, мы можем использовать циклы.

Циклы используются для выполнения одного и того же блока кода снова и снова, пока выполняется определенное условие.

В PHP существуют следующие типы циклов:

- `while` - выполняет блок кода до тех пор, пока заданное условие истинно
- `do...while` - проходит через блок кода один раз, а затем повторяет цикл до тех пор, пока заданное условие истинно
- `for` - проходит через блок кода определенное количество раз
- `foreach` - цикл выполнения блока кода для каждого элемента массива.

## Цикл `while`
Цикл `while` выполняет блок кода до тех пор, пока заданное условие истинно.

```php
while (условие) {
  код, который нужно выполнить;
}
```

Пример использования цикла `while`:

```php
$i = 1;

while ($i <= 5) {
  print("The number is: {$i} <br>");
  $i++;
}
```

> **Примечание:** не забывайте увеличивать `$i`, иначе цикл будет продолжаться вечно.

Цикл `while` не выполняется определенное количество раз, но после каждой итерации проверяет, остается ли условие истинным. Условие не обязательно должно быть счетчиком, это может быть статус операции или любое условие, которое оценивается либо как истина, либо как ложь.

### Альтернативный синтаксис

Синтаксис цикла `while` также можно записать с помощью оператора `endwhile`, например, так:

```php
$i = 1;

while ($i <= 5):
  print("The number is: {$i} <br>");
  $i++;
endwhile;
```

### Шаг в 10
Если вы хотите, чтобы цикл `while` считал до 100, но только на каждые 10, вы можете увеличивать счетчик на 10, а не на 1 в каждой итерации:

```php
$i = 0;

while ($i <= 100) {
  print("The number is: {$i} <br>");
  $i += 10;
}
```

## Цикл `do...while`
Цикл `do...while` всегда выполнит блок кода хотя бы один раз, затем проверит условие и повторит цикл, пока указанное условие будет истинным.

```php
do {
  код, который нужно выполнить;
} while (условие);
```

Пример использования цикла `do...while`:

```php
$i = 1;

do {
  print("The number is: {$i} <br>");
  $i++;
} while ($i <= 5);
```

> **Примечание:** в цикле `do...while` условие проверяется после выполнения операторов внутри цикла. Это означает, что цикл `do...while` выполнит свои утверждения хотя бы один раз, даже если условие ложно. Смотрите пример ниже.

Давайте посмотрим, что произойдет, если мы установим переменную `$i` не в `1`, а в `8`, а затем снова выполним тот же цикл `do...while`:

```php
$i = 8;

do {
  print("The number is: {$i} <br>");
  $i++;
} while ($i <= 5);
```

## Цикл `for`

Цикл `for` используется, когда вы знаете, сколько раз нужно запустить скрипт.

```php
for (инициализация; условие; увеличение) {
  код, который нужно выполнить;
}
```

Вот как это работает:

- `инициализация` оценивается один раз
- `условие` оценивается перед каждой итерацией
- `увеличение` оценивается после каждой итерации

Пример использования цикла `for`:

```php
for ($i = 1; $i <= 5; $i++) {
  print("The number is: {$i} <br>");
}
```

**Пояснение:**
- Первое выражение, `$i = 1;`, оценивается один раз и устанавливает счетчик в 1.
- Второе выражение, `$i <= 5;`, оценивается перед каждой итерацией, и блок кода выполняется только в том случае, если это выражение имеет значение `true`. В данном примере выражение истинно до тех пор, пока `$i` меньше или равно `5`.
- Третье выражение, `$i++`, оценивается после каждой итерации, и в этом примере выражение увеличивает значение `$i` на единицу на каждой итерации.

### Шаг в 10

Если вы хотите, чтобы цикл `for` считал до 100, но только на каждые 10, вы можете увеличивать счетчик на 10, а не на 1 в каждой итерации:

```php
for ($i = 0; $i <= 100; $i += 10) {
  print("The number is: {$i} <br>");
}
```

# Цикл `foreach` для массивов и итерируемых объектов

Цикл `foreach` - прохождение блока кода по каждому элементу массива или каждому свойству объекта. Чаще всего цикл `foreach` используется для перебора элементов массива.

```php
foreach ($array as $value) {
  код, который нужно выполнить;
}
```

Пример использования цикла `foreach`:

```php
$colors = ['red', 'green', 'blue', 'yellow'];

foreach ($colors as $color) {
  print("The color is: {$color} <br>");
}
```

На каждой итерации цикла переменной `$color` присваивается значение текущего элемента массива. Итерация продолжается до тех пор, пока не будет достигнут последний элемент массива.

### Ключи и значения

Приведенный выше массив - это <u>индексированный массив</u>, где первый элемент имеет ключ `0`, второй - ключ `1` и так далее.

<u>Ассоциативные массивы</u> отличаются друг от друга. Ассоциативные массивы используют именованные ключи, которые вы им присваиваете, и при циклическом просмотре ассоциативных массивов вы можете захотеть сохранить как ключ, так и значение.

Это можно сделать, указав ключ и значение в определении `foreach`, например, так:

```php
$age = ['Peter' => 35, 'Ben' => 37, 'Joe' => 43];

foreach ($age as $name => $value) {
  print("{$name} is {$value} years old. <br>");
}
```

### Цикл `foreach` для объектов

Цикл `foreach` также можно использовать для перебора свойств объекта:

```php
class Car
{
    public $brand;
    public $model;
    public $year;

    public function __construct($brand, $model, $year)
    {
        $this->brand = $brand;
        $this->model = $model;
        $this->year = $year;
    }
}

$car = new Car('BMW', 'X5', 2021);

foreach ($car as $key => $value) {
    print("{$key}: {$value} <br>");
}
```

### Альтернативный синтаксис
Синтаксис цикла `foreach` также можно записать с помощью оператора `endforeach`, как показано ниже:

```php
$colors = ['red', 'green', 'blue', 'yellow'];

foreach ($colors as $color):
  print("The color is: {$color} <br>");
endforeach;
```

## Оператор `break`

С помощью оператора `break` мы можем остановить цикл, даже если условие все еще истинно:

```php
$i = 1;

while ($i <= 5) {
  print("The number is: {$i} <br>");
  if ($i == 3) {
    break;
  }
  $i++;
}
```

## Оператор `continue`

С помощью оператора `continue` мы можем остановить текущую итерацию и продолжить следующую:

```php
$i = 0;

while ($i < 5) {
  $i++;
  if ($i == 3) {
    continue;
  }
  print("The number is: {$i} <br>");
}
```