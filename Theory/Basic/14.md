# Числа

В этой главе мы подробно рассмотрим целые числа, плавающие числа и строки чисел.

## Числа в PHP

В PHP существует три основных числовых типа:

- Целое число (`int`)
- Дробное число (`float`)
- Строки чисел

Кроме того, в PHP есть еще два типа данных, используемых для чисел:

- Бесконечность (`infinity`)
- `NaN`

Переменные числовых типов создаются, когда вы присваиваете им значение:

```php
$x = 5985;
$y = 10.365;
$z = '5985';
```

## Целые числа в PHP

2, 256, -256, 10358, -179567 - это все целые числа. Целое число - это число без десятичной части.

Целочисленный тип данных - это недесятичное число между `-2 147 483 648` и `2 147 483 647` в 32-битных системах и между `-9 223 372 036 854 775 808` и `9 223 372 036 854 775 807` в 64-битных системах. Значение, большее (или меньшее) этого значения, будет храниться как float, поскольку оно выходит за пределы целого числа.

> **Примечание:** Еще один важный момент: даже если `4 * 2,5` равно 10, результат будет храниться как `float`, потому что один из операндов - `float(2,5)`.

Вот некоторые правила для целых чисел:

- Целое число должно иметь хотя бы одну цифру.
- Целое число НЕ должно иметь десятичной точки
- Целое число может быть как положительным, так и отрицательным
- Целые числа могут быть заданы в трех форматах: десятичном (основание 10), шестнадцатеричном (основание 16 - с префиксом 0x), восьмеричном (основание 8 - с префиксом 0) или - двоичном (основание 2 - с префиксом 0b).

В PHP есть следующие предопределенные константы для целых чисел:

- `PHP_INT_MAX` - Наибольшее поддерживаемое целое число
- `PHP_INT_MIN` - Наименьшее поддерживаемое целое число
- `PHP_INT_SIZE` - Размер целого числа в байтах

В PHP есть следующие функции для проверки того, является ли тип переменной целым числом:

- `is_int()`
- `is_integer()` - псевдоним `is_int()`
- `is_long()` - псевдоним `is_int()`

```php
$x = 5985;
var_dump(is_int($x)); // true

$x = 59.85;
var_dump(is_int($x)); // false
```

## Дробные числа в PHP

Дробные числа - это числа с десятичной точкой или число в экспоненциальной форме.

2.0, 256.4, 10.358, 7.64E+5, 5.56E-5 - все они являются плавающими числами.

Тип данных float обычно может хранить значение до 1,7976931348623E+308 (зависит от платформы) и имеет максимальную точность 14 цифр.

В PHP есть следующие предопределенные константы для плавающих чисел (начиная с PHP 7.2):

- `PHP_FLOAT_MAX` - Наибольшее представимое число с плавающей точкой
- `PHP_FLOAT_MIN` - Наименьшее представимое положительное число с плавающей точкой
- `PHP_FLOAT_DIG` - Количество десятичных цифр, которые можно округлить до плавающей точки и обратно без потери точности.
- `PHP_FLOAT_EPSILON` - Наименьшее представимое положительное число x, такое, что x + 1.0 != 1.0

PHP есть следующие функции для проверки того, является ли тип переменной `float`:

- `is_float()`
- `is_double()` - псевдоним функции `is_float()`

```php
$x = 10.365;
var_dump(is_float($x)); // true
```

## PHP Бесконечность
Числовое значение, превышающее `PHP_FLOAT_MAX`, считается бесконечным. В PHP есть следующие функции для проверки того, является ли числовое значение конечным или бесконечным:

- `is_finite()`
- `is_infinite()`

Однако функция PHP `var_dump()` возвращает тип данных и значение:

```php
$x = 1.9e411;
var_dump($x); // float(INF)
```

## PHP NaN

`NaN` означает «не число». `NaN` используется для невозможных математических операций.

В PHP есть следующие функции для проверки того, не является ли значение числом:

- `is_nan()`

Однако функция PHP var_dump() возвращает тип данных и значение:

```php
$x = acos(8);
var_dump($x); // float(NAN)
```

## Числовые строки PHP

Функция PHP `is_numeric()` может быть использована для определения того, является ли переменная числовой. Функция возвращает `true`, если переменная является числом или числовой строкой, и `false` в противном случае.

```php
$x = 5985;
var_dump(is_numeric($x)); // true

$x = '5985';
var_dump(is_numeric($x)); // true

$x = '59.85' + 100;
var_dump(is_numeric($x)); // true

$x = 'Hello';
var_dump(is_numeric($x)); // false
```

> **Примечание:** Начиная с PHP 7.0: функция `is_numeric()` будет возвращать `FALSE` для числовых строк в шестнадцатеричной форме (например, `0xf4c3b00c`), так как они больше не считаются числовыми строками.

## PHP Приведение строк и плавающих чисел к целочисленным

Иногда вам нужно привести числовое значение к другому типу данных.

Функции `(int)`, `(integer)` и `intval()` часто используются для преобразования значения в целое число.

```php
$x = 23465.768;
$int_cast = (int) $x;
print($int_cast); // 23465

$x = '23465.768';
$int_cast = (int) $x;
print($int_cast); // 23465
```

Подробнее о кастинге читайте в главе «[Кастинг в PHP](./15.md)».